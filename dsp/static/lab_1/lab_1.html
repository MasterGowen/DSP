<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<h2 class="problem-header">{{display_name}}</h2>
<div>
    <h3>Блок формирования сигналов</h3>
    <p>Вам необходимо сформировать следующий сигнал:</p>
    <p><strong>{{signal_type.title}} длиной {{N0}} отсчётов</strong></p>
    <div>
        <p>Введите сигнал:</p>
        <textarea id="student_signal" class="signal-input array-input" rows="3" cols="24" wrap="hard">
        </textarea>
    </div>
</div>
<div>
    <h3>Блок формирования фильтров</h3>
    <p>Сформировать модель КИХ-фильтров I порядка:</p>
    <p><strong>{{filter_type.title}} {{Ns}} отсчётов</strong></p>
    <div>
        <p>Введите фильтр:</p>
        <textarea id="student_filter" class="filter-input array-input" rows="3" cols="24" wrap="hard"></textarea>
    </div>
</div>
шаблон первой лаборатории
{{filter_window.title}}
<script type="text/javascript">
    $(function () {

        $("textarea.array-input").each(function (i) {

            var validation_array_message = $('<div/>', {
                class: 'validation-message'
            });
            $(this).after(validation_array_message);

            $(this).change(function () {
                console.log(this);
                parse_array = parseTextSignal(this.value);
                var message="";
                if(!parse_array.signal_valid){
                    message = "Ошибка формата ввода";
                }
                console.log("Array is valid? :", parse_array.signal_valid);
                console.log("Validation result:", parse_array);
                $(this).parent().find( ".validation-message" ).html(message)
            });
        });

        function parseTextSignal(signal_string) {
            var signal_array = signal_string.replace('[', '').replace(']', '').replace('(', '').replace(')', '').split(/[ ,]+/);
            var cleaned_array = signal_array.filter(function (item) {
                return item != ""
            });
            signal_valid = cleaned_array.every((item) => !isNaN(parseFloat(item)));
            if (signal_valid) {
                signal = cleaned_array.map(function (item) {
                    return parseFloat(item)
                });
                return {"signal": signal, "signal_valid": signal_valid};
            }
            else {
                return {"signal": [], "signal_valid": signal_valid};
            }
        }
    });

    var input_message = document.createElement("div")
</script>
</body>
</html>